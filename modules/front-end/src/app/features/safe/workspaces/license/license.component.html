<div class="standard-div rows">
  @if (license?.data) {
    <license-card [license]="license"></license-card>
  } @else {
    <nz-alert
      nzType="info"
      nzMessage="No License Available"
      i18n-nzMessage="@@license.no-license-available"
      [nzDescription]="notice"
      nzIconType="icons:icon-info-outline"
      nzShowIcon>
      <ng-template #notice>
        <div>
          <span i18n="@@license.contact-featbit-team-to-get-license">Please contact FeatBit team to get a license or generate a trial license from</span>&nbsp;
          <a href="https://dashboard.featbit.co/account" class="bash-board-link" target="_blank">https://dashboard.featbit.co/account</a>
        </div>
      </ng-template>
    </nz-alert>
  }
  <form class="form" nz-form [formGroup]="form" [nzLayout]="'vertical'">
    <nz-form-item>
      <nz-form-label i18n="@@common.workspace-id">Workspace Id</nz-form-label>
      <nz-form-control
        nzExtra="You will need to provide this Id to generate the license"
        i18n-nzExtra="@@common.workspace-id-copy-hint">
        <div class="form-item">
          <nz-input-group [nzPrefix]="idIcon">
            <input type="text" nz-input formControlName="workspaceId" placeholder="License"
                   i18n-placeholder="@@common.license"/>
            <ng-template #idIcon>
              <i nz-icon nzType="icons:icon-id"></i>
            </ng-template>
          </nz-input-group>
          <button type="button" nz-button nzType="primary" (click)="copyText(workspace.id)">
            <i nz-icon nzType="icons:icon-copy"></i>
            <ng-container i18n="@@common.copyId">Copy Id</ng-container>
          </button>
        </div>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label i18n="@@common.license">License</nz-form-label>
      <nz-form-control nzErrorTip="License cannot be empty" i18n-nzErrorTip="@@common.license-cannot-be-empty">
        <div class="form-item">
          <nz-input-group [nzPrefix]="licenseIcon">
            <input type="text" nz-input formControlName="license" placeholder="License"
                   i18n-placeholder="@@common.license"/>
            <ng-template #licenseIcon>
              <i nz-icon nzType="icons:icon-license"></i>
            </ng-template>
          </nz-input-group>
          <button type="button" nz-button nzType="primary" [nzLoading]="updating" (click)="updateLicense()">
            <i nz-icon nzType="icons:icon-sync"></i>
            <ng-container i18n="@@common.updateLicense">Update</ng-container>
          </button>
        </div>
      </nz-form-control>
    </nz-form-item>
  </form>
</div>
